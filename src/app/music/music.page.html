<ion-header>
  <ion-toolbar color="gold">
    <ion-buttons slot="start">
      <ion-menu-button ></ion-menu-button>
    </ion-buttons>
    <ion-title>Music</ion-title>
  </ion-toolbar>
</ion-header>


  <ion-content [fullscreen]="true" class="ion-padding" class="video-background">
    <ion-slides pager="true" [options]="slideOptsOne" #slideWithNav
      (ionSlideDidChange)="SlideDidChange(sliderOne,slideWithNav)">
      <ion-slide>
        <img src="../../assets/image/festival_des_musiques_sacrées5.jpg">
      </ion-slide>
      <ion-slide>
        <img src="../../assets/image/festival des musiques sacrées6.jpg">
      </ion-slide>
      <ion-slide >
        <img src="../../assets/image/festival des musiques sacrées4.jpg">
      </ion-slide>
      <ion-slide >
        <img src="../../assets/image/festival des musiques sacrées3.jfif">
      </ion-slide>
      <ion-slide >
        <img src="../../assets/image/festival des musiques sacrées1.webp">
      </ion-slide>
      <ion-slide >
        <iframe width="100%" height="60%" src="https://www.youtube.com/embed/rs_jLwkLXMw" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
      </ion-slide>
    </ion-slides>
  
  <ion-item lines="none" *ngFor="let song of songs" (click)="playSong(song.title,song.subtitle,song.img,song.path)">
    <ion-thumbnail slot="start">
       <img src="{{song.img}}" />
    </ion-thumbnail>
    <ion-label> 
       <h2>{{song.title}}</h2>
       <p>{{song.subtitle}}</p>
    </ion-label>
   </ion-item>

   <div class="ion-text-center" id="fullPlayer">
    <!-- Minimize Icon -->
    <ion-toolbar>
      <ion-buttons slot="end">
        <ion-button (click)="minimize()">
           <ion-icon name="chevron-down-outline" slot="icon-only"></ion-icon>
        </ion-button>
      </ion-buttons>
    </ion-toolbar>
  
    <img src="{{currImage}}" alt="" id="currImg">
  
    <h2>
      {{currTitle}}
    </h2>
    <p>
      {{currSubtitle}}
    </p>
  
    <ion-item lines="none">
      <ion-range #range (touchmove)="touchMove()" (touchend)="touchEnd()" (touchstart)="touchStart()"
        max="{{maxRangeValue}}" [(ngModel)]="currRangeTime">
  
        <ion-label slot="start">
          <ion-text>
            <b>
              {{currSecsText}}
            </b>
          </ion-text>
        </ion-label>
  
        <ion-label slot="end">
          <ion-text>
            <b>
              {{durationText}}
            </b>
          </ion-text>
        </ion-label>
      </ion-range>
    </ion-item>
  
  
    <!-- Play Previous Button -->
    <ion-button fill="clear" mode="ios" (click)="playPrev()">
      <ion-icon name="play-skip-back-outline" style="font-size: 30px;"></ion-icon>
    </ion-button>
  
    <!-- Play Button -->
    <ion-button fill="clear" mode="ios" *ngIf="!isPlaying" (click)="play()">
      <ion-icon name="play" style="font-size: 40px;"></ion-icon>
    </ion-button>
  
    <!-- Pause Button -->
    <ion-button fill="clear" mode="ios" *ngIf="isPlaying" (click)="pause()">
      <ion-icon name="pause" style="font-size: 40px;"></ion-icon>
    </ion-button>
  
    <!-- Play Next Button -->
    <ion-button fill="clear" mode="ios" (click)="playNext()">
      <ion-icon name="play-skip-forward-outline" style="font-size: 30px;"></ion-icon>
    </ion-button>
  
    <ion-list-header>
      Up Next
    </ion-list-header>
    <!-- Up Next Song -->
    <ion-item>
      <ion-thumbnail slot="start">
        <img src="/assets/image/festival_des_musiques_sacrées5.jpg" />
      </ion-thumbnail>
      <ion-label>
        <h2>
          {{upNextTitle}}
        </h2>
        <p>
          {{upNextSubtitle}}
        </p>
      </ion-label>
    </ion-item>
  </div>
  <ion-toolbar id="miniPlayer">
    <ion-item>
      <ion-thumbnail slot="start" (click)="maximize()">
        <img src="/assets/image/festival_des_musiques_sacrées5.jpg" />
      </ion-thumbnail>
      <ion-label (click)="maximize()">
        <h2>{{currTitle}}</h2>
        <p>{{currSubtitle}}</p>
      </ion-label>
  
      <!-- Play Button -->
      <ion-button (click)="play()" mode="ios" fill="clear" *ngIf="!isPlaying">
        <ion-icon name="play" style="font-size: x-large;"></ion-icon>
      </ion-button>
      <!-- Pause Button -->
      <ion-button (click)="pause()" mode="ios" fill="clear" *ngIf="isPlaying">
        <ion-icon name="pause" style="font-size: x-large;"></ion-icon>
      </ion-button>
      <!-- Cancel Song Button -->
      <ion-button (click)="cancel()" mode="ios" fill="clear">
        <ion-icon name="close" style="font-size: x-large;"></ion-icon>
      </ion-button>
    </ion-item>
  
    <!-- Song Progress Bar -->
    <ion-progress-bar value="{{progress}}"></ion-progress-bar>
  </ion-toolbar>  
</ion-content>
